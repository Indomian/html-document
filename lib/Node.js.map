{"version":3,"sources":["../src/Node.js"],"names":[],"mappings":"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","file":"Node.js","sourcesContent":["/**\n * A Node is an interface from which a number of DOM types inherit,\n * and allows these various types to be treated (or tested) similarly.\n *\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/Node}\n */\nexport default class Node {\n    constructor() {\n        this._attributes = {};\n    }\n\n    /* ATTRIBUTES */\n\n    /**\n     * get attribute's value\n     *\n     * @param {String} attributeName\n     * @return {String}\n     */\n    getAttribute(attributeName) {\n        return this._attributes[attributeName];\n    }\n\n    /**\n     * checks if attribute exists for node\n     *\n     * @param {String} attributeName\n     * @returns {boolean}\n     */\n    hasAttribute(attributeName) {\n        return attributeName in this._attributes;\n    }\n\n    /**\n     * set attribute's value\n     *\n     * @param {String} attributeName\n     * @param {String} attributeValue\n     */\n    setAttribute(attributeName, attributeValue) {\n        this._setAttribute(attributeName, attributeValue);\n        this._updatedAttribute(attributeName, this._attributes[attributeName]);\n    }\n\n    /**\n     * set attribute's value\n     *\n     * @internal\n     * @param {String} attributeName\n     * @param {String} attributeValue\n     */\n    _setAttribute(attributeName, attributeValue) {\n        this._attributes[attributeName] = String(attributeValue);\n    }\n\n    /**\n     * remove attribute\n     *\n     * @param {String} attributeName\n     */\n    removeAttribute(attributeName) {\n        delete this._attributes[attributeName];\n        this._updatedAttribute(attributeName);\n    }\n\n    /**\n     * @internal\n     * @param {String} attributeName\n     */\n    _updatedAttribute(attributeName) {\n\n    }\n\n    /* CONTENT */\n\n    /**\n     * @return {String}\n     */\n    get textContent() {\n        return '';\n    }\n\n    _toHTML() {\n        return this.outerHTML;\n    }\n\n    /* EVENTS */\n\n    addEventListener(eventType, listener, capturingPhase) {\n        var _eventsKey = capturingPhase ? '_eventsCapturingPhase' : '_eventsBubblingPhase';\n        if (!this[_eventsKey]) {\n            this[_eventsKey] = new Map();\n        }\n        var callbacks;\n        if (!this[_eventsKey].has(eventType)) {\n            this[_eventsKey].set(eventType, callbacks = []);\n        } else {\n            callbacks = this[_eventsKey].get(eventType);\n        }\n        callbacks.push(listener);\n        return this;\n    }\n\n    removeEventListener(eventType, listener, capturingPhase) {\n        var _eventsKey = capturingPhase ? '_eventsCapturingPhase' : '_eventsBubblingPhase';\n        if (this[_eventsKey] && this[_eventsKey].has(eventType)) {\n            var callbacks = this[_eventsKey].get(eventType);\n            var i = callbacks.indexOf(listener);\n            if (i === -1) {\n                return false;\n            }\n            callbacks.splice(i, 1);\n        }\n    }\n\n    dispatchEvent(event) {\n        event.target = this;\n        // Capturing phase\n        var capturingPhase = function(event) {\n            if (this._parentNode) {\n                capturingPhase.call(this._parentNode, event);\n            }\n            if (event.propagationStopped) {\n                return;\n            }\n            var callbacks = this._eventsCapturingPhase && this._eventsCapturingPhase.get(event.type);\n            if (callbacks) {\n                callbacks.some(function(callback) {\n                    callback();\n                    return event.immediatePropagationStopped;\n                });\n            }\n        };\n        capturingPhase.call(this, event);\n\n        // Bubbling phase\n        if (!event.propagationStopped) {\n            var bubblingPhase = function(event) {\n                var callbacks = this._eventsBubblingPhase && this._eventsBubblingPhase.get(event.type);\n                if (callbacks) {\n                    callbacks.some(function(callback) {\n                        callback();\n                        return event.immediatePropagationStopped;\n                    });\n                }\n                if (!event.propagationStopped && this._parentNode) {\n                    bubblingPhase.call(this._parentNode, event);\n                }\n            };\n            bubblingPhase.call(this, event);\n        }\n\n        return !event.defaultPrevented;\n    }\n}\n\nObject.defineProperty(Node, 'ELEMENT_NODE', { value: 1 });\nObject.defineProperty(Node, 'ATTRIBUTE_NODE', { value: 2 });\nObject.defineProperty(Node, 'TEXT_NODE', { value: 3 });\nObject.defineProperty(Node, 'CDATA_SECTION_NODE', { value: 4 });\nObject.defineProperty(Node, 'ENTITY_REFERENCE_NODE', { value: 5 });\nObject.defineProperty(Node, 'ENTITY_NODE', { value: 6 });\nObject.defineProperty(Node, 'PROCESSING_INSTRUCTION_NODE', { value: 7 });\nObject.defineProperty(Node, 'COMMENT_NODE', { value: 8 });\nObject.defineProperty(Node, 'DOCUMENT_NODE', { value: 9 });\nObject.defineProperty(Node, 'DOCUMENT_TYPE_NODE', { value: 10 });\nObject.defineProperty(Node, 'DOCUMENT_FRAGMENT_NODE', { value: 11 });\nObject.defineProperty(Node, 'NOTATION_NODE', { value: 12 });\n"]}