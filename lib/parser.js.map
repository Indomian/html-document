{"version":3,"sources":["../src/parser.js"],"names":[],"mappings":";;AAAA,IAAI,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;;AAGxC,OAAO,CAAC,KAAK,GAAG,UAAS,IAAI,EAAE,IAAI,EAAE;AACjC,QAAI,KAAK,GAAG,CAAE,IAAI,CAAE,CAAC;AACrB,QAAI,IAAI,GAAG,SAAP,IAAI,GAAc;AAClB,eAAO,KAAK,CAAC,MAAM,KAAK,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KAC9D,CAAC;AACF,QAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC;;AAElC,QAAI,MAAM,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC;AAC/B,qBAAa,EAAA,uBAAC,IAAI,EAAE;AAChB,gBAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACvC,iBAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACnB;AACD,mBAAW,EAAA,qBAAC,IAAI,EAAE,KAAK,EAAE;AACrB,gBAAI,EAAE,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SACpC;AACD,cAAM,EAAA,gBAAC,IAAI,EAAE;AACT,gBAAI,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;SACrD;AACD,kBAAU,EAAA,oBAAC,IAAI,EAAE;AACb,gBAAI,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;AACtB,gBAAI,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;SAC3B;AACD,iBAAS,EAAA,mBAAC,IAAI,EAAE;AACZ,gBAAI,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;SACpD;KACJ,EAAE,EAAE,oBAAoB,EAAE,IAAI,EAAE,CAAC,CAAC;AACnC,UAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACnB,UAAM,CAAC,GAAG,EAAE,CAAC;CAChB,CAAC","file":"parser.js","sourcesContent":["var htmlparser = require('htmlparser2');\n\n\nexports.parse = function(html, node) {\n    var stack = [ node ];\n    var last = function() {\n        return stack.length === 0 ? null : stack[stack.length - 1];\n    };\n    var document = node.ownerDocument;\n\n    var parser = new htmlparser.Parser({\n        onopentagname(name) {\n            var elt = document.createElement(name);\n            stack.push(elt);\n        },\n        onattribute(name, value) {\n            last().setAttribute(name, value);\n        },\n        ontext(text) {\n            last().appendChild(document.createTextNode(text));\n        },\n        onclosetag(name) {\n            var elt = stack.pop();\n            last().appendChild(elt);\n        },\n        oncomment(data) {\n            last().appendChild(document.createComment(data));\n        }\n    }, { recognizeSelfClosing: true });\n    parser.write(html);\n    parser.end();\n};\n"]}